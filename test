// Import the function to be tested and Axios
import { fetchData } from './api';
import axios from 'axios';

// Mock the Axios module
jest.mock('axios');

// Define the test suite
describe('fetchData', () => {
  // Define a test case for a successful API call
  it('returns data from the API', async () => {
    // Define a mock response from the API
    const response = { data: { message: 'Hello, World!' } };

    // Set up the mock Axios request to return the mock response
    axios.get.mockResolvedValue(response);

    // Call the fetchData function with a mock URL
    const data = await fetchData('https://example.com/api');

    // Expect the returned data to match the mock response
    expect(data).toEqual(response.data);
  });

  // Define a test case for a failed API call
  it('handles API errors', async () => {
    // Define a mock error message
    const error = { message: 'API request failed.' };

    // Set up the mock Axios request to throw an error
    axios.get.mockRejectedValue(error);

    // Call the fetchData function with a mock URL
    const data = await fetchData('https://example.com/api');

    // Expect the returned data to be null (indicating an error)
    expect(data).toBeNull();
  });
});
