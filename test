import React from "react";
import { render, screen } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import Tooltip from "./Tooltip";

describe("Tooltip", () => {
  it("renders the tooltip text when hovered over", () => {
    render(<Tooltip text="Hello, world!" />);
    const targetElement = screen.getByText(/hover over me/i);
    userEvent.hover(targetElement);
    const tooltipElement = screen.getByText(/hello, world!/i);
    expect(tooltipElement).toBeInTheDocument();
  });

  it("hides the tooltip text when mouse leaves the target element", () => {
    render(<Tooltip text="Hello, world!" />);
    const targetElement = screen.getByText(/hover over me/i);
    userEvent.hover(targetElement);
    const tooltipElement = screen.getByText(/hello, world!/i);
    expect(tooltipElement).toBeInTheDocument();
    userEvent.unhover(targetElement);
    expect(tooltipElement).not.toBeInTheDocument();
  });
});
